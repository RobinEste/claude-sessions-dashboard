{"id":"ASD-001","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":239,"end_line":250,"severity":"P1","category":"reliability","title":"update_session mist _session_lock: onbeschermde read-modify-write","description":"De functie `update_session` doet een read-modify-write cyclus (get_session → setattr → _save_session) zonder `_session_lock`. Alle andere schrijffuncties zijn voorzien van een lock — maar `update_session` niet.","recommended_fix":"Wrap de body van update_session in `with _session_lock(session_id):`","confidence":0.95,"status":"open","source":{"type":"ai_agent","name":"async-data-integrity"},"created_at":"2026-02-23T14:00:00Z"}
{"id":"ASD-002","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":392,"end_line":419,"severity":"P1","category":"reliability","title":"complete_session en park_session missen _session_lock bij status-transitie","description":"Beide functies doen een onbeschermde read-modify-write bij status-transities. Race met cleanup kan tot willekeurige eindtoestand leiden.","recommended_fix":"Wrap de body van complete_session en park_session elk in `with _session_lock(session_id):`","confidence":0.90,"status":"open","source":{"type":"ai_agent","name":"async-data-integrity"},"created_at":"2026-02-23T14:00:00Z"}
{"id":"LOG-002","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":365,"end_line":389,"severity":"P1","category":"logic","title":"update_task() gooit misleidende ValueError bij niet-bestaande sessie","description":"Als get_session() None retourneert, crasht de functie met AttributeError. Ontbrekende None-check.","recommended_fix":"Voeg `if not session: return None` toe na get_session()","confidence":0.95,"status":"open","source":{"type":"ai_agent","name":"logic-correctness"},"created_at":"2026-02-23T14:00:00Z"}
{"id":"LOG-001","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":219,"end_line":226,"severity":"P2","category":"logic","title":"heartbeat() kan UnboundLocalError gooien bij verwijderde sessie","description":"session variabele ongedefinieerd buiten with-block bij niet-bestaande sessie.","recommended_fix":"Initialiseer session = None vóór de with-block","confidence":0.90,"status":"open","source":{"type":"ai_agent","name":"logic-correctness"},"created_at":"2026-02-23T14:00:00Z"}
{"id":"ASD-003","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":229,"end_line":236,"severity":"P2","category":"reliability","title":"heartbeat_project mist _session_lock terwijl heartbeat dat wel heeft","description":"De bulk-variant heartbeat_project schrijft zonder lock, terwijl heartbeat() wel gelockt is.","recommended_fix":"Roep de gelocked heartbeat()-functie aan per sessie in de loop","confidence":0.80,"status":"open","source":{"type":"ai_agent","name":"async-data-integrity"},"created_at":"2026-02-23T14:00:00Z"}
{"id":"LOG-003","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":524,"end_line":561,"severity":"P2","category":"logic","title":"cleanup_stale_sessions() gebruikt verouderde `now` voor staleness-revalidatie","description":"De variabele now wordt eenmalig bepaald vóór de loop. Bij langlopende runs kan dit leiden tot false positives.","recommended_fix":"Gebruik datetime.now(timezone.utc) per iteratie","confidence":0.85,"status":"open","source":{"type":"ai_agent","name":"logic-correctness"},"created_at":"2026-02-23T14:00:00Z"}
