{"id":"ASD-001","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":295,"end_line":345,"severity":"P1","category":"reliability","title":"Race condition op task-ID generatie in add_task / add_tasks","description":"Beide functies berekenen max_id via max(int(t['id'][1:]) for t in session.tasks) op het moment van lezen, en schrijven daarna terug. Als twee processen tegelijk add_task aanroepen, lezen ze allebei dezelfde max_id, berekenen allebei dezelfde volgende ID, en schrijven allebei weg via _atomic_write. Het laatste write wint, waardoor één taak verloren gaat.","recommended_fix":"Gebruik uuid-gebaseerde task IDs of fcntl.flock op het sessie-bestand voor de hele read-modify-write cyclus.","confidence":0.85,"status":"open","source":{"type":"ai_agent","name":"async-data-integrity"},"created_at":"2026-02-23T12:00:00Z"}
{"id":"ASD-002-PYT-001-CON-002","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"web/app.py","line":33,"end_line":35,"severity":"P1","category":"reliability","title":"Schrijfoperatie (cleanup_stale_sessions) in GET /api/overview veroorzaakt race condition en schendt HTTP-semantiek","description":"Bij elke GET /api/overview wordt cleanup_stale_sessions() aangeroepen. GET is per specificatie idempotent en mag geen server-side state wijzigen. Race condition bij meerdere gelijktijdige requests. Er is al een aparte launchd cleanup job aanwezig.","recommended_fix":"Verwijder de cleanup uit de hot path en laat de bestaande launchd job dit afhandelen.","confidence":0.92,"status":"open","source":{"type":"ai_agent","name":"async-data-integrity, python-specialist, convention-checker"},"created_at":"2026-02-23T12:00:00Z"}
{"id":"LOG-001-DUP-001","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":688,"end_line":747,"severity":"P2","category":"logic","title":"task_summary.total inconsistent met status-optelling, en logica is driemaal gedupliceerd","description":"task_summary.total is gelijk aan len(s.tasks) inclusief tasks met status skipped. Maar de som completed + in_progress + pending telt skipped tasks NIET mee. Het blok is driemaal gedupliceerd in build_overview().","recommended_fix":"Extraheer een _task_summary(tasks) helper en voeg skipped toe aan de telling.","confidence":0.92,"status":"open","source":{"type":"ai_agent","name":"logic-correctness, duplication-checker"},"created_at":"2026-02-23T12:00:00Z"}
{"id":"ASD-003","repo":"RobinEste/claude-sessions-dashboard","commit_sha":"0c9c471","file":"lib/store.py","line":501,"end_line":512,"severity":"P2","category":"reliability","title":"Partial failure in cleanup_stale_sessions laat project-state permanent inconsistent achter","description":"Als _save_session slaagt maar _refresh_project_state een exception gooit, stopt de loop. De project-state van al verwerkte sessies is niet bijgewerkt, terwijl de sessie zelf wél op COMPLETED staat. Bij de volgende aanroep worden deze sessies niet opnieuw gevonden.","recommended_fix":"Verplaats _refresh_project_state naar na de loop (per project-slug), met try/except per sessie.","confidence":0.8,"status":"open","source":{"type":"ai_agent","name":"async-data-integrity"},"created_at":"2026-02-23T12:00:00Z"}
